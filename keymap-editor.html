<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>Lily58 Keymap Editor</title>
<style>
body{font-family:sans-serif;background:#1a1a2e;color:#eee;padding:20px}
h1{text-align:center;color:#00d9ff}
.tabs{display:flex;gap:10px;justify-content:center;margin:20px 0}
.tab{padding:10px 20px;background:#16213e;border:2px solid #0f3460;border-radius:8px;cursor:pointer;color:#eee}
.tab.active{background:#0f3460;border-color:#00d9ff;color:#00d9ff}
.kb{display:flex;justify-content:center;gap:60px;margin:20px 0}
.half{display:flex;flex-direction:column;gap:4px}
.row{display:flex;gap:4px}
.thumb{display:flex;gap:4px;margin-top:10px;justify-content:flex-end}
.half.right .thumb{justify-content:flex-start}
.key{width:55px;height:45px;background:#16213e;border:2px solid #0f3460;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:bold;cursor:pointer}
.key:hover{background:#0f3460;border-color:#00d9ff}
.key.sel{background:#00d9ff;color:#1a1a2e}
.key.mod{background:#1e5128}
.key.lay{background:#4a0e0e}
.key.emp{background:#333;opacity:.5}
.key.td{background:#4a3b0e}
.panel{max-width:800px;margin:30px auto;background:#16213e;padding:20px;border-radius:10px}
.opts{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0}
.opt{padding:8px 12px;background:#0f3460;border-radius:4px;cursor:pointer;font-size:12px}
.opt:hover{background:#00d9ff;color:#1a1a2e}
#out{width:100%;height:180px;background:#0a0a15;border:1px solid #0f3460;color:#0f0;font-family:monospace;font-size:12px;padding:10px;border-radius:6px;margin-top:15px}
.btn{padding:10px 20px;background:#00d9ff;color:#1a1a2e;border:none;border-radius:6px;cursor:pointer;font-weight:bold;margin:5px}
.btns{text-align:center;margin-top:15px}
.cat{margin:10px 0;font-size:11px;color:#888}
.info{background:#0f3460;padding:10px;border-radius:8px;margin-bottom:15px;text-align:center}
</style></head>
<body>
<h1>Lily58 Keymap Editor</h1>
<div class="info">TD( TD) = tap:() doble:{} hold:[]</div>
<div class="tabs"><div class="tab active" onclick="sw(0)">L0 BASE</div><div class="tab" onclick="sw(1)">L1 SYMBOLS</div><div class="tab" onclick="sw(2)">L2 FN</div><div class="tab" onclick="sw(3)">L3 ADJUST</div></div>
<div class="kb"><div class="half" id="lh"></div><div class="half right" id="rh"></div></div>
<div class="panel">
<div class="cat">LETRAS</div><div class="opts" id="let"></div>
<div class="cat">NUMS</div><div class="opts" id="num"></div>
<div class="cat">SIMB</div><div class="opts" id="sym"></div>
<div class="cat">MODS</div><div class="opts" id="mod"></div>
<div class="cat">NAV</div><div class="opts" id="nav"></div>
<div class="cat">FK</div><div class="opts" id="fk"></div>
<div class="cat">LAYER</div><div class="opts" id="lay"></div>
<div class="btns"><button class="btn" onclick="gen()">Generar</button><button class="btn" onclick="cpy()">Copiar</button></div>
<textarea id="out" readonly></textarea>
</div>
<script>
var K={
let:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),
num:"1234567890".split(""),
sym:["!","@","#","$","%","^","&","*","(",")","[","]","{","}","-","=","+","|",";",":","'","/",".","<",">","?","_","~","TD(","TD)"],
mod:["CTL","SFT","ALT","RALT","WIN","TAB","ESC","ENT","SPC","BSP","DEL"],
nav:["<-","DN","UP","->"],
fk:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],
lay:["MO1","RST","_"]
};
var L=[
["@","%","TD(","TD)","'","|",".",";","F5","F4","F2","`","TAB","Q","W","E","R","T","Y","U","I","O","P","-","CTL","A","S","D","F","G","H","J","K","L",",","=","SFT","Z","X","C","V","B","ENT","ESC","N","M","N~","&","MO1","*","WIN","RALT","ALT","SPC","BSP","/","!","#"],
["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","TAB","_","UP","_","_","_","&","^","_","_","_","_","CTL","<-","DN","->","_","_","_","_","_","_","_","_","SFT","_","_","_","_","_","S+EN","ESC","_","_","_","_","_","_","_","_","ALT","SPC","DEL","_","_","_"],
["_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_"],
["_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_"]
];
var cl=0,si=null;
var lr=[[0,1,2,3,4,5],[12,13,14,15,16,17],[24,25,26,27,28,29],[36,37,38,39,40,41,42]];
var rr=[[6,7,8,9,10,11],[18,19,20,21,22,23],[30,31,32,33,34,35],[43,44,45,46,47,48,49]];
var lt=[50,51,52,53],rt=[54,55,56,57];
function gc(v){
if(v=="_")return"emp";
if(["CTL","SFT","ALT","RALT","WIN"].indexOf(v)>=0)return"mod";
if(["MO1","RST"].indexOf(v)>=0)return"lay";
if(v.indexOf("TD")==0)return"td";
return"";
}
function mk(i){
var k=document.createElement("div");
k.className="key "+gc(L[cl][i])+(si===i?" sel":"");
k.textContent=L[cl][i];
k.onclick=function(){si=i;render();};
return k;
}
function render(){
var lh=document.getElementById("lh"),rh=document.getElementById("rh");
lh.innerHTML="";rh.innerHTML="";
for(var r=0;r<lr.length;r++){
var d=document.createElement("div");d.className="row";
for(var c=0;c<lr[r].length;c++)d.appendChild(mk(lr[r][c]));
lh.appendChild(d);
}
var td=document.createElement("div");td.className="thumb";
for(var i=0;i<lt.length;i++)td.appendChild(mk(lt[i]));
lh.appendChild(td);
for(var r=0;r<rr.length;r++){
var d=document.createElement("div");d.className="row";
for(var c=0;c<rr[r].length;c++)d.appendChild(mk(rr[r][c]));
rh.appendChild(d);
}
var td2=document.createElement("div");td2.className="thumb";
for(var i=0;i<rt.length;i++)td2.appendChild(mk(rt[i]));
rh.appendChild(td2);
}
function opts(){
for(var c in K){
var el=document.getElementById(c);
if(!el)continue;
el.innerHTML="";
for(var i=0;i<K[c].length;i++){
var o=document.createElement("div");
o.className="opt";
o.textContent=K[c][i];
o.onclick=(function(v){return function(){if(si!==null){L[cl][si]=v;render();}};})(K[c][i]);
el.appendChild(o);
}
}
}
function sw(n){
cl=n;si=null;
var tabs=document.querySelectorAll(".tab");
for(var i=0;i<tabs.length;i++)tabs[i].className=i==n?"tab active":"tab";
render();
}
function gen(){
var nm=["BASE","SYMBOLS","FN","ADJUST"],o="";
for(var i=0;i<L.length;i++){
var l=L[i];
o+="[LAYER_"+i+" - "+nm[i]+"]\n";
o+="R1: "+l.slice(0,6).join(" | ")+"  ||  "+l.slice(6,12).join(" | ")+"\n";
o+="R2: "+l.slice(12,18).join(" | ")+"  ||  "+l.slice(18,24).join(" | ")+"\n";
o+="R3: "+l.slice(24,30).join(" | ")+"  ||  "+l.slice(30,36).join(" | ")+"\n";
o+="R4: "+l.slice(36,43).join(" | ")+"  ||  "+l.slice(43,50).join(" | ")+"\n";
o+="TH: "+l.slice(50,54).join(" | ")+"  ||  "+l.slice(54,58).join(" | ")+"\n\n";
}
document.getElementById("out").value=o;
}
function cpy(){
var o=document.getElementById("out");
o.select();
document.execCommand("copy");
alert("Copiado!");
}
render();opts();
</script>
</body></html>